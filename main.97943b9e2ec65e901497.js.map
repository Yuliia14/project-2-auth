{"version":3,"sources":["webpack:///./templates/authorization.hbs","webpack:///./js/refsAuth.js","webpack:///./js/fetchRegForm.js","webpack:///./js/fetchLogInForm.js","webpack:///./js/renderAuthModal.js","webpack:///./js/closeAuthModalEsc.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","stack1","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","nullContext","program","noop","getRefs","openModalBtn","document","querySelector","authModalEl","authFormContainer","registerBtn","regBtn","refs","FetchRegistration","constructor","email","password","this","options","method","headers","body","JSON","stringify","addNewUser","event","fetch","then","response","console","log","ok","alert","innerHTML","status","catch","error","FetchLogIn","getCurrentUserData","closeAuthModal","preventDefault","addEventListener","form","html","AuthModalTmpl","insertAdjacentHTML","target","classList","contains","value","window","code"],"mappings":"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","file":"main.97943b9e2ec65e901497.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"<div role=\\\"group\\\" class=\\\"auth-backdrop\\\" data-backdrop>\\r\\n    <form id=\\\"formElem\\\" class=\\\"auth-modal js-auth-form\\\" autocomplete=\\\"off\\\">\\r\\n        <button class=\\\"auth-modal-close-button\\\"><svg class=\\\"auth-close-item\\\" width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 32 32\\\" class=\\\"auth-close-item\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\r\\n    <path id=\\\"close-24px\\\" d=\\\"M25.333 8.547l-1.88-1.88-7.453 7.453-7.453-7.453-1.88 1.88 7.453 7.453-7.453 7.453 1.88 1.88 7.453-7.453 7.453 7.453 1.88-1.88-7.453-7.453 7.453-7.453z\\\"></path>\\r\\n    </svg></button>\\r\\n        <h2 class=\\\"auth-form-title\\\">Ви можете авторизуватися за допомогою Google Account:</h2>\\r\\n        <button class=\\\"auth-google-button\\\"><svg class=\\\"auth-google-item\\\" width=\\\"18\\\" height=\\\"18\\\" viewBox=\\\"0 0 32 32\\\" class=\\\"auth-google-item\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\r\\n            <path id=\\\"auth-google-logo\\\" fill=\\\"#2196f3\\\" style=\\\"fill: var(--color1, #2196f3)\\\" d=\\\"M31.743 13.038c0.142 0 0.258 0.115 0.258 0.258v2.704c0 1.012-0.094 2.002-0.274 2.962-1.395 7.457-7.964 13.092-15.839 13.038-8.836-0.061-15.907-7.2-15.887-16.036 0.019-8.82 7.176-15.964 16-15.964 4.323 0 8.246 1.715 11.126 4.501 0.104 0.101 0.107 0.266 0.004 0.369l-3.826 3.826c-0.099 0.098-0.258 0.101-0.359 0.005-1.808-1.721-4.253-2.777-6.946-2.777-5.561 0-10.039 4.446-10.076 10.007-0.038 5.597 4.488 10.146 10.076 10.146 4.534 0 8.369-2.995 9.634-7.115h-9.376c-0.142 0-0.258-0.115-0.258-0.258v-5.408c0-0.142 0.115-0.258 0.258-0.258l15.485 0z\\\"></path>\\r\\n<path fill=\\\"#1e88e5\\\" style=\\\"fill: var(--color2, #1e88e5)\\\" d=\\\"M31.742 13.038h-1.932c0.142 0 0.258 0.115 0.258 0.258v2.704c0 1.012-0.094 2.002-0.274 2.962-1.331 7.114-7.371 12.57-14.761 13.009 0.283 0.017 0.567 0.026 0.854 0.028 7.874 0.054 14.444-5.581 15.838-13.038 0.18-0.96 0.274-1.95 0.274-2.962v-2.704c0-0.142-0.115-0.258-0.258-0.258z\\\"></path>\\r\\n<path fill=\\\"#f44336\\\" style=\\\"fill: var(--color3, #f44336)\\\" d=\\\"M6.848 11.78l-4.859-3.511c2.726-4.931 7.979-8.269 14.012-8.269 4.323 0 8.246 1.715 11.126 4.501 0.104 0.101 0.107 0.266 0.004 0.369l-3.826 3.826c-0.098 0.098-0.257 0.101-0.358 0.005-1.808-1.721-4.253-2.777-6.946-2.777-4.058 0-7.556 2.399-9.152 5.857z\\\"></path>\\r\\n<path fill=\\\"#e53935\\\" style=\\\"fill: var(--color4, #e53935)\\\" d=\\\"M5.445 10.767l1.403 1.014c1.457-3.156 4.499-5.429 8.104-5.802 0.027-0.003 0.053-0.006 0.081-0.009-0.317-0.030-0.639-0.046-0.964-0.046-3.666 0-6.861 1.933-8.624 4.843z\\\"></path>\\r\\n<path fill=\\\"#e53935\\\" style=\\\"fill: var(--color4, #e53935)\\\" d=\\\"M25.194 4.501c0.104 0.101 0.107 0.266 0.004 0.369l-3.105 3.105c0.297 0.226 0.582 0.468 0.852 0.726 0.101 0.096 0.26 0.094 0.359-0.005l3.826-3.826c0.102-0.102 0.1-0.268-0.004-0.369-2.88-2.786-6.802-4.501-11.126-4.501-0.324 0-0.646 0.011-0.966 0.030 3.94 0.235 7.496 1.894 10.16 4.471z\\\"></path>\\r\\n<path fill=\\\"#4caf50\\\" style=\\\"fill: var(--color5, #4caf50)\\\" d=\\\"M27.737 26.874c-2.922 3.153-7.099 5.126-11.737 5.126-6.264 0-11.687-3.6-14.314-8.844l4.961-3.4c1.489 3.704 5.116 6.32 9.353 6.32 2.659 0 5.078-1.030 6.878-2.713l4.859 3.51z\\\"></path>\\r\\n<path fill=\\\"#43a047\\\" style=\\\"fill: var(--color6, #43a047)\\\" d=\\\"M6.647 19.756l-1.463 1.003c1.699 3.165 5.040 5.318 8.884 5.318 0.325 0 0.646-0.016 0.964-0.046-3.816-0.364-7.011-2.855-8.385-6.274z\\\"></path>\\r\\n<path fill=\\\"#43a047\\\" style=\\\"fill: var(--color6, #43a047)\\\" d=\\\"M16 32c4.638 0 8.815-1.974 11.737-5.126l-1.19-0.86c-2.743 3.414-6.859 5.679-11.51 5.957 0.319 0.019 0.64 0.029 0.963 0.029z\\\"></path>\\r\\n<path fill=\\\"#ffc107\\\" style=\\\"fill: var(--color7, #ffc107)\\\" d=\\\"M5.924 16c0 1.328 0.257 2.595 0.724 3.756l-4.961 3.4c-1.079-2.153-1.686-4.584-1.686-7.156 0-2.804 0.721-5.439 1.988-7.731l4.859 3.511c-0.593 1.283-0.924 2.713-0.924 4.22z\\\"></path>\\r\\n<path fill=\\\"#ffb300\\\" style=\\\"fill: var(--color8, #ffb300)\\\" d=\\\"M5.184 20.759l1.463-1.003c-0.467-1.161-0.724-2.429-0.724-3.756 0-1.507 0.331-2.937 0.924-4.22l-1.403-1.014c-0.911 1.504-1.44 3.269-1.452 5.164-0.012 1.747 0.421 3.392 1.192 4.829z\\\"></path>\\r\\n            </svg>Google</button>\\r\\n        <h2 class=\\\"auth-form-title\\\">Або зайти за допомогою імейлу і пароля, попередньо зареєструвавшись:</h2>\\r\\n        <label class=\\\"auth-form-field\\\" for=\\\"e-mail\\\"><input class=\\\"auth-form-input js-reg-email\\\" type=\\\"email\\\" name=\\\"email\\\" placeholder=\\\"E-mail\\\"/></label>\\r\\n        <label class=\\\"auth-form-field\\\">\\r\\n            <input class=\\\"auth-form-input js-reg-password\\\" type=\\\"text\\\" name=\\\"password\\\" placeholder=\\\"Password\\\" /></span>\\r\\n        </label>\\r\\n        <div class=\\\"auth-login-form\\\">\\r\\n            <button class=\\\"auth-button login js-login\\\" type=\\\"submit\\\">Увійти</button>\\r\\n            <button class=\\\"auth-button js-register\\\" type=\\\"submit\\\">Зареєструватись</button>\\r\\n        </div>\\r\\n    </form>\\r\\n</div>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":31,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","export default function getRefs() {\r\n    return {\r\n        openModalBtn: document.querySelector('.auth-modal-open-button'),\r\n        authModalEl: document.querySelector('.auth-modal'),\r\n        authFormContainer: document.querySelector('.authorization'),\r\n        registerBtn: document.querySelector('.js-register'),\r\n        regBtn: document.querySelector('.js-register'),\r\n    };\r\n  }","import getRefs from './refsAuth';\r\nconst refs = getRefs();\r\nimport closeAuthModal from './renderAuthModal';\r\n\r\nexport default class FetchRegistration {\r\n        constructor ({ email, password }) {\r\n            this.email = email,\r\n            this.password = password,\r\n    \r\n            this.options = {\r\n                method: 'POST',\r\n                headers: {\"accept\": \"application/json\",  \"Content-Type\": \"application/json\"},\r\n                body: JSON.stringify({\"email\": `${email}`, \"password\": `${password}`})\r\n            };\r\n        }\r\n            addNewUser(event) {\r\n                return fetch(`https://callboard-backend.herokuapp.com/auth/register`, this.options)\r\n                    .then(response => {\r\n                        console.log(response);\r\n                        if(response.ok) {\r\n                            alert('Дякуємо. Реєстрація пройшла успішно!');\r\n                            refs.authFormContainer.innerHTML =' ';\r\n                        } else if (response.status === 409) {\r\n                            alert('Ошибка HTTP ' + response.status + ': Користувач з таким email вже зареєстрований.');\r\n                        } else if (response.status === 400) {\r\n                            alert('Ошибка HTTP ' + response.status + ': Заповніть, будь ласка, всі поля.');\r\n                        } else {\r\n                            alert('Ошибка HTTP ' + response.status + ': Вибачте, щось пішло не так, повторіть реєстрацію, будь ласка.');\r\n                        }    \r\n                        }\r\n                    )\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                        alert('Вибачте, щось пішло не так, повторіть реєстрацію, будь ласка');\r\n        });\r\n    }\r\n}","import getRefs from './refsAuth';\r\nconst refs = getRefs();\r\nimport closeAuthModal from './renderAuthModal';\r\n\r\nexport default class FetchLogIn {\r\n        constructor ({ email, password }) {\r\n            this.email = email,\r\n            this.password = password,\r\n    \r\n            this.options = {\r\n                method: 'POST',\r\n                headers: {\"accept\": \"application/json\",  \"Content-Type\": \"application/json\"},\r\n                body: JSON.stringify({\"email\": `${email}`, \"password\": `${password}`})\r\n            };\r\n        }\r\n            getCurrentUserData() {\r\n                return fetch(`https://callboard-backend.herokuapp.com/auth/login`, this.options)\r\n                .then(response => {\r\n                    console.log(response);\r\n                    if(response.ok) {\r\n                        refs.authFormContainer.innerHTML =' ';\r\n                    } else if (response.status === 403) {\r\n                        alert('Ошибка HTTP ' + response.status + ': Неправильний email або пароль');\r\n                    } else if (response.status === 400) {\r\n                        alert('Ошибка HTTP ' + response.status + ': Заповніть, будь ласка, всі поля.');\r\n                    } else {\r\n                        alert('Ошибка HTTP ' + response.status + ': Вибачте, щось пішло не так, повторіть реєстрацію, будь ласка.');\r\n                    }    \r\n                    }\r\n                )\r\n                .catch(error => {\r\n                    console.log(error);\r\n                    alert('Вибачте, щось пішло не так, повторіть реєстрацію, будь ласка');\r\n                });\r\n            }\r\n        }","import AuthModalTmpl from '../templates/authorization.hbs';\r\nimport FetchRegistration from './fetchRegForm';\r\nimport FetchLogIn from './fetchLogInForm';\r\n\r\nimport getRefs from './refsAuth';\r\nconst refs = getRefs();\r\n\r\nrefs.openModalBtn.addEventListener(\"click\", renderAuthModal);\r\n\r\nfunction renderAuthModal(form) {\r\n    const markup = AuthModalTmpl(form)\r\n    makeMarkup(markup);\r\n    document.querySelector('.auth-modal-close-button').addEventListener(\"click\", closeAuthModal);\r\n}\r\n    function makeMarkup(html) {\r\n        refs.authFormContainer.insertAdjacentHTML('afterbegin', html);\r\n        refs.authFormContainer.addEventListener('click', sendFormData);\r\n\r\n        function sendFormData(event) {\r\n            if(event.target.classList.contains(\"js-register\")) {\r\n                event.preventDefault();\r\n                let email = document.querySelector('.js-reg-email').value;\r\n                let password = document.querySelector('.js-reg-password').value;\r\n\r\n                const fetchRegistration = new FetchRegistration({ email, password });\r\n                    fetchRegistration.addNewUser();\r\n            } else if(event.target.classList.contains(\"js-login\")) {\r\n                event.preventDefault();\r\n                let email = document.querySelector('.js-reg-email').value;\r\n                let password = document.querySelector('.js-reg-password').value;\r\n\r\n                const fetchLogIn = new FetchLogIn({ email, password });\r\n                fetchLogIn.getCurrentUserData();\r\n            }\r\n        }\r\n}\r\nexport default function closeAuthModal(event) {\r\n    event.preventDefault();\r\n    refs.authFormContainer.innerHTML =' ';\r\n}","import closeAuthModal from './renderAuthModal';\r\n\r\nwindow.addEventListener('keydown', onKeyPress);\r\n\r\nfunction onKeyPress(event) {\r\n    const ESC_KEY_CODE = 'Escape';\r\n    \r\n    const isEscKey = event.code === ESC_KEY_CODE;\r\n    \r\n    if (isEscKey) {\r\n        closeAuthModal(event);\r\n    }\r\n  }"],"sourceRoot":""}